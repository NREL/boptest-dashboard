import {getRepository} from 'typeorm';
import {Result, ResultEntity} from './../models/Result';

//const category = await categoryRepository.findOne(1); // category is properly typed!

// insert a new category into the database
// const categoryDTO = {
//   // note that the ID is autogenerated; see the schema above
//   name: 'new category',
// };
// const newCategory = await categoryRepository.save(categoryDTO);

export function getResults(): Promise<Result[]> {
  // request data
  const resultsRepository = getRepository<Result>(ResultEntity);
  return resultsRepository.find({relations: ['account']});
}
